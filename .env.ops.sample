# ============================================
# OPS SERVER CONFIGURATION
# ============================================
# Copy to .env.ops and fill in values.
# This file configures deployment/ops-server.mjs for unattended
# Supabase management via the /admin/supabase-sync UI.
#
# For full setup instructions, see: docs/DEPLOYMENT_GUIDE.md

# ============================================
# SERVER SETTINGS
# ============================================
# Port for the ops server HTTP API
OPS_SERVER_PORT=8731

# Bind address (use 0.0.0.0 to expose to network)
OPS_SERVER_HOST=127.0.0.1

# CORS allowed origins (comma-separated or * for all)
OPS_CORS_ORIGIN=*

# Optional: shared token for API authentication
# If set, requests must include X-Ops-Token header
OPS_API_TOKEN=

# ============================================
# SUPABASE DATA SYNC (clone-supabase-data.sh)
# ============================================
# This key is from your CLOUD Supabase project (NOT local).
# It's used to PULL data from cloud → local Supabase.
#
# Get from: https://supabase.com/dashboard/project/blpqmqcyfetcwtvstvwl/settings/api
# Look for "service_role" key (NOT the anon key)
#
# ┌─────────────────┐    clone-supabase-data.sh     ┌─────────────────┐
# │  CLOUD Supabase │  ───────────────────────────► │  LOCAL Supabase │
# │  (hosted)       │  uses THIS service_role_key   │  (WSL/Docker)   │
# └─────────────────┘                               └─────────────────┘
SUPABASE_SERVICE_ROLE_KEY=

# ============================================
# WSL INSTALLATION (install-supabase-wsl.sh)
# ============================================
# Required for unattended sudo operations in WSL.
# Set this to your WSL user's password to skip sudo prompts.
# Leave empty if you prefer interactive sudo.
SUDO_PASS=

# ============================================
# USAGE
# ============================================
# 1. Copy this file: cp .env.ops.sample .env.ops
# 2. Fill in the required values above
# 3. Start the ops server:
#    - Option A: node deployment/ops-server.mjs
#    - Option B: ./deployment/bootstrap.sh (auto-installs Node if needed)
# 4. Navigate to /admin/supabase-sync in the UI
#
# Note: Local Supabase credentials are auto-generated in .env.local
# by install-supabase-wsl.sh - you don't need to set them here.
